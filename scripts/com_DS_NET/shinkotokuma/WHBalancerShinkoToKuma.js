//script by Sophie "Shinko to Kuma". Skype: live:sophiekitsune discord: Sophie#2418 website: https://shinko-to-kuma.my-free.website/
// Updated on April 30th, adding translations and adjusting the layout a tiny bit
var _0xe18b=['Target\x20village','Destino','Warehouse\x20balancer','desktop','Leem\x20per\x20dorp','previousElementSibling','Bilancia\x20risorse','.res.iron,.warn_90.iron,.warn.iron','مجموع\x20الحديد','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2225%\x22\x20style=\x22text-align:center\x22>','Source\x20village','points','Agyag/falu','Iron','finished','\x20&#10;Clay\x20in\x20WH:\x20','error','Argilla\x20per\x20villaggio','System','%\x20of\x20WH\x20capacity','always','done','\x22\x20style=\x22color:#40D0E0;\x22\x20>','Doel','el_GR','fail','distance','\x27\x20class=\x27sophRowA\x27','Απόσταση','text','Creating\x20line\x20',',\x20clayadjustement:\x20','iron','<span\x20class=\x22icon\x20header\x20iron\x22>\x20</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:center\x22><input\x20type=\x22button\x22\x20class=\x22btn\x20evt-confirm-btn\x20btn-confirm-yes\x22\x20id=\x22building\x22\x20value=\x22','.quickedit-vn','طمي\x20لكل\x20قرية','.res.wood,.warn_90.wood,.warn.wood',',\x20ironadjustement:\x20','Nyersanyag\x20kiegyenlítő','حديد\x20لكل\x20قرية','\x20needs\x20help\x20growing,\x20setting\x20required\x20resources\x20to\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2225%\x22\x20style=\x22text-align:center\x22>','.res.stone,.warn_90.stone,.warn.stone','replace','موارنة\x20الموارد','</td><td>','Legno\x20per\x20villaggio','split','append','Premium\x20exchange','lowPoints','target','stone','Ijzer\x20per\x20dorp','.res.mwood,.warn_90.mwood,.warn.mwood','#appendHere','Balanceador\x20de\x20recursos','farmSpaceTotal','Totaal\x20ijzer','Woodadjustement:\x20','</td></tr></table>','keys','Villaggio\x20di\x20origine','Σίδερο','farmSpaceUsed','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2210%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<font\x20size=\x221\x22>','pushed\x20to\x20clean\x20array','Argila','Σύνολο\x20πηλού','prop','pt_BR','.mheader.ressources','market','remove','Verstuur\x20grondstoffen','Systeem','Too\x20much\x20clay\x20incoming\x20in\x20','Oorsprong','parentElement','Average\x20is\x20higher\x20than\x20capacity,\x20reduce',':button,#building','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Clay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sendResources\x22\x20border=0>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22tableSend\x22\x20width=\x22100%\x22\x20class=\x22sophHeader\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20id=\x22appendHere\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20colspan=7\x20width=“550”\x20style=\x22text-align:center\x22\x20>','highFarm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20','#36393f','Πηλός','999','&screen=overview_villages&mode=prod&page=-1&','</td></tr><tr><td>','#content_value','prepend','url','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Iron:\x20','player','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Iron:\x20','name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22progressbar\x22\x20style=\x22width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#36393f;\x22><div\x20id=\x22progress\x22\x20style=\x22width:\x200%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2035px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20black;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',':button[id^=\x22building\x22]','villageID','#202225','</a>\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>','&screen=overview_villages&mode=trader&type=inc&page=-1&type=inc','Célállomás','sort','.btn-pp','Done.','\x22\x20style=\x22color:#40D0E0;\x22\x20data-toggle=\x22tooltip\x22\x20title=\x22Wood\x20in\x20WH:\x20','mobile','hu_HU','round','children','Hout','needsMorePercentage','#3e4147','Vas/falu','Managed\x20to\x20grab\x20the\x20page','Done\x20with\x20this\x20cycle','Village:\x20','Premium\x20Beurs','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x2210%\x22\x20style=\x22text-align:center\x22>','Afstand','</font>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','message','.icon.header','الهدف','Total\x20clay','Ferro\x20totale','#mobileHeader','#progress','match','Madeira\x20por\x20aldeia','source','Clay','&#10;Iron\x20in\x20WH:\x20','#production_table\x20th','Argilla\x20totale','Distância','Created\x20by\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','مجموع\x20الخشب','nextElementSibling','textContent','Leem','Δημιουργήθηκε\x20από\x20την\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','Warenhuis\x20balancer','Προέλευση','طمي','Származási\x20hely','log','game.php?&screen=overview_villages&mode=trader&type=inc&page=-1&type=inc','#contentContainer','Ξύλο\x20ανα\x20χωριό','#sendResources','indexOf','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20width=\x225%\x22\x20style=\x22text-align:center\x22>','focus','تمت\x20البرمجه\x20من\x20\x27Shinko\x20to\x20Kuma\x27','Készítette:\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','innerHTML','<div\x20id=\x27totals\x27\x20class=\x27vis\x27\x20border=0><table\x20id=\x27totalsAndAverages\x27\x20width=\x27100%\x27><tr><td>','Fa/falu','Σίδερο\x20ανα\x20χωριό','Ijzer','warehouseCapacity','Αποστολή\x20πόρων','Iron\x20per\x20village','#trades_table\x20tr','hypot','Criado\x20por\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','attr','dataset','Total\x20de\x20madeira','#totals','width','الأصل','header','Összes\x20agyag','Total\x20iron','حديد','Sistema','availableMerchants','Σύνολο\x20ξύλου','disabled','Troca\x20Premium','#tableSend\x20tr','Incoming\x20resources:\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Wood:\x20','it_IT','game.php?t=','Creato\x20da\x20\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','nl_NL','combined\x20the\x20sendings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Too\x20much\x20wood\x20incoming\x20in\x20','Ferro\x20per\x20villaggio',')\x20in\x20','Távolság','.header.population','game.php?&screen=overview_villages&mode=prod&page=-1&','Send\x20resources','post','of\x20the\x20list','class','Too\x20much\x20iron\x20incoming\x20in\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Wood:\x20','map_send','ar_AE','css','#ffffdf','Legno','en_DK','find','Ferro\x20por\x20aldeia','-----------------------------------------------------------------------------------------','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>','floor','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Max\x20final\x20capacity:\x20','Totaal\x20leem','Total\x20de\x20ferro','Excess\x20is\x20bigger\x20than\x20current\x20available\x20resources,\x20setting\x20it\x20to\x20current\x20available','\x20</a></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x20<a\x20href=\x22','Farm\x20almost\x20full\x20(','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Clay:\x20','wood','.content-border','Χωριό\x20στόχος','Latest\x20update:\x2030\x20April\x202020\x20-\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','Πηλός\x20ανα\x20χωριό','.res.mstone,.warn_90.mstone,.warn.mstone','<span\x20class=\x22icon\x20header\x20stone\x22>\x20</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>','https://v.tylercamp.me/hc/WHBalancerSophie','Argilla','trim','Legno\x20totale','Enviar\x20recursos','Összes\x20vas','\x22\x20onclick=\x22sendResource(','innerText','\x20height=\x2240\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><a\x20href=\x22','Total\x20wood','length','locale','Distance','Origem','Agyag','خشب\x20لكل\x20قرية','\x20id=\x27','Wood','Finished\x20sending!','push','Ferro','builtOutPercentage','.icon.mheader','undefined'];(function(_0xcfcac6,_0xe18bef){var _0x5e9e34=function(_0x4e245c){while(--_0x4e245c){_0xcfcac6['push'](_0xcfcac6['shift']());}};_0x5e9e34(++_0xe18bef);}(_0xe18b,0x9a));var _0x5e9e=function(_0xcfcac6,_0xe18bef){_0xcfcac6=_0xcfcac6-0x0;var _0x5e9e34=_0xe18b[_0xcfcac6];return _0x5e9e34;};_0x2c90de:console['log'](_0x5e9e('0x47'));$[_0x5e9e('0x2d')](_0x5e9e('0x4b'));var warehouseCapacity=[];var allWoodTotals=[];var allClayTotals=[];var allIronTotals=[];var availableMerchants=[];var totalMerchants=[];var farmSpaceUsed=[];var farmSpaceTotal=[];var villagePoints=[];var villagesData=[];var villageID=[];var allWoodObjects,allClayObjects,allIronObjects,allVillages;var totalsAndAverages='';var incomingRes={};var totalWood,totalStone,totalIron;var merchantOrders=[];var excessResources=[];var shortageResources=[];var links=[];var cleanLinks=[];var langShinko=[_0x5e9e('0x65'),_0x5e9e('0x6d'),_0x5e9e('0x63'),_0x5e9e('0x57'),'Wood',_0x5e9e('0xe8'),_0x5e9e('0x70'),_0x5e9e('0x2c'),_0x5e9e('0xed'),_0x5e9e('0x54'),_0x5e9e('0xe1'),_0x5e9e('0x17'),'Wood\x20per\x20village','Clay\x20per\x20village','Iron\x20per\x20village',_0x5e9e('0x94'),_0x5e9e('0x75')];if(game_data[_0x5e9e('0x56')]==_0x5e9e('0x37')){langShinko=[_0x5e9e('0x65'),_0x5e9e('0x6d'),_0x5e9e('0x63'),_0x5e9e('0x57'),_0x5e9e('0x5c'),_0x5e9e('0xe8'),_0x5e9e('0x70'),_0x5e9e('0x2c'),_0x5e9e('0xed'),_0x5e9e('0x54'),_0x5e9e('0xe1'),_0x5e9e('0x17'),'Wood\x20per\x20village','Clay\x20per\x20village',_0x5e9e('0xb'),'Premium\x20exchange','System'];}if(game_data[_0x5e9e('0x56')]==_0x5e9e('0x7b')){langShinko=[_0x5e9e('0x65'),_0x5e9e('0xf4'),_0x5e9e('0x46'),_0x5e9e('0x7f'),'Ξύλο',_0x5e9e('0xb9'),_0x5e9e('0xa2'),_0x5e9e('0xa'),_0x5e9e('0xf2'),_0x5e9e('0x1b'),_0x5e9e('0xa7'),'Σύνολο\x20σιδήρου',_0x5e9e('0xfa'),_0x5e9e('0x48'),_0x5e9e('0x7'),_0x5e9e('0x94'),_0x5e9e('0x75')];}if(game_data[_0x5e9e('0x56')]==_0x5e9e('0x23')){langShinko=[_0x5e9e('0xf3'),_0x5e9e('0xb0'),_0x5e9e('0x7a'),_0x5e9e('0xdc'),_0x5e9e('0xd3'),_0x5e9e('0xf1'),_0x5e9e('0x8'),_0x5e9e('0xad'),'Gemaakt\x20door\x20Sophie\x20\x27Shinko\x20to\x20Kuma\x27','Totaal\x20hout',_0x5e9e('0x3e'),_0x5e9e('0x9d'),'Hout\x20per\x20dorp',_0x5e9e('0x67'),_0x5e9e('0x98'),_0x5e9e('0xda'),_0x5e9e('0xae')];}if(game_data[_0x5e9e('0x56')]==_0x5e9e('0x20')){langShinko=[_0x5e9e('0x69'),_0x5e9e('0xa1'),'Villaggio\x20obiettivo','Distanza',_0x5e9e('0x36'),_0x5e9e('0x4c'),_0x5e9e('0x5f'),'Manda\x20risorse',_0x5e9e('0x22'),_0x5e9e('0x4e'),_0x5e9e('0xeb'),_0x5e9e('0xe2'),_0x5e9e('0x91'),_0x5e9e('0x74'),_0x5e9e('0x27'),'Premium\x20exchange',_0x5e9e('0x75')];}if(game_data['locale']==_0x5e9e('0x33')){langShinko=[_0x5e9e('0x8f'),_0x5e9e('0x14'),_0x5e9e('0xe0'),'المسافة','خشب',_0x5e9e('0xf5'),_0x5e9e('0x18'),'إرسال\x20الموارد',_0x5e9e('0x2'),_0x5e9e('0xee'),'مجموع\x20الطمي',_0x5e9e('0x6b'),_0x5e9e('0x5a'),_0x5e9e('0x86'),_0x5e9e('0x8a'),'Premium\x20exchange','System'];}if(game_data[_0x5e9e('0x56')]==_0x5e9e('0xd0')){langShinko=[_0x5e9e('0x89'),_0x5e9e('0xf6'),_0x5e9e('0xca'),_0x5e9e('0x29'),'Fa',_0x5e9e('0x59'),'Vas','Nyersanyagok\x20küldése',_0x5e9e('0x3'),'Összes\x20fa',_0x5e9e('0x16'),_0x5e9e('0x50'),_0x5e9e('0x6'),_0x5e9e('0x6f'),_0x5e9e('0xd6'),_0x5e9e('0x94'),_0x5e9e('0x75')];}if(game_data[_0x5e9e('0x56')]==_0x5e9e('0xa9')){langShinko=[_0x5e9e('0x9b'),_0x5e9e('0x58'),_0x5e9e('0x64'),_0x5e9e('0xec'),'Madeira',_0x5e9e('0xa6'),_0x5e9e('0x5f'),_0x5e9e('0x4f'),_0x5e9e('0xe'),_0x5e9e('0x11'),'Total\x20de\x20argila',_0x5e9e('0x3f'),_0x5e9e('0xe6'),'Argila\x20por\x20aldeia',_0x5e9e('0x39'),_0x5e9e('0x1d'),_0x5e9e('0x19')];}var backgroundColor=_0x5e9e('0xb8');var borderColor=_0x5e9e('0xd5');var headerColor=_0x5e9e('0xc7');var titleColor=_0x5e9e('0x35');cssClassesSophie='\x0a<style>\x0a.sophRowA\x20{\x0abackground-color:\x20#32353b;\x0acolor:\x20white;\x0a}\x0a.sophRowB\x20{\x0abackground-color:\x20#36393f;\x0acolor:\x20white;\x0a}\x0a.sophHeader\x20{\x0abackground-color:\x20#202225;\x0afont-weight:\x20bold;\x0acolor:\x20white;\x0a}\x0a</style>';$(_0x5e9e('0xf9'))['eq'](0x0)['prepend'](cssClassesSophie);$(_0x5e9e('0xe3'))['eq'](0x0)[_0x5e9e('0xbe')](cssClassesSophie);if(typeof settings==_0x5e9e('0x62')){var settings={'highFarm':0x59d8,'lowPoints':0xbb8,'builtOutPercentage':0.25,'needsMorePercentage':0.85};}if($(_0x5e9e('0xfb'))[0x0]){$(_0x5e9e('0xfb'))[0x0]['remove']();$(_0x5e9e('0x12'))[0x0][_0x5e9e('0xac')]();}if(game_data[_0x5e9e('0xc1')]['sitter']>0x0){URLIncRes=_0x5e9e('0x21')+game_data[_0x5e9e('0xc1')]['id']+_0x5e9e('0xc9');URLProd=_0x5e9e('0x21')+game_data[_0x5e9e('0xc1')]['id']+_0x5e9e('0xbb');}else{URLIncRes=_0x5e9e('0xf8');URLProd=_0x5e9e('0x2b');}function sendResource(_0x45c566,_0x33de15,_0x351191,_0x176bd9,_0x12c655,_0x37cc31){$(':button[id^=\x22building\x22]')['prop'](_0x5e9e('0x1c'),!![]);setTimeout(function(){$('#'+_0x37cc31)[0x0][_0x5e9e('0xac')]();$(_0x5e9e('0xc5'))[_0x5e9e('0xa8')](_0x5e9e('0x1c'),![]);$(_0x5e9e('0xb3'))[0x0][_0x5e9e('0x1')]();if($(_0x5e9e('0x1e'))[_0x5e9e('0x55')]<=0x2){alert(_0x5e9e('0x5d'));if($(_0x5e9e('0xcc'))[_0x5e9e('0x55')]>0x0){$(_0x5e9e('0xcc'))[_0x5e9e('0xac')]();}throw Error(_0x5e9e('0xcd'));}},0xc8);var _0x1e924e={'target_id':_0x33de15,'wood':_0x351191,'stone':_0x176bd9,'iron':_0x12c655};TribalWars[_0x5e9e('0x2d')](_0x5e9e('0xab'),{'ajaxaction':_0x5e9e('0x32'),'village':_0x45c566},_0x1e924e,function(_0x59aef1){UI['SuccessMessage'](_0x59aef1[_0x5e9e('0xde')]);console['log'](_0x59aef1[_0x5e9e('0xde')]);},!0x1);}$['get'](URLIncRes,function(){console[_0x5e9e('0xf7')]('Grabbed\x20transport\x20page');})[_0x5e9e('0x78')](function(_0x259eed){var _0x2989ac=$(_0x259eed);for(var _0x170dba=0x1;_0x170dba<_0x2989ac['find'](_0x5e9e('0xc'))[_0x5e9e('0x55')]-0x1;_0x170dba++){var _0xba8478={};var _0x196fb3;if($(_0x5e9e('0xe3'))[0x0]){console[_0x5e9e('0xf7')](_0x5e9e('0xcf'));var _0xfade30=_0x2989ac[_0x5e9e('0x38')](_0x5e9e('0xc'))[_0x170dba][_0x5e9e('0xd2')][0x5]['children'][0x1][_0x5e9e('0xd2')];for(var _0x3ea757=0x0;_0x3ea757<Object[_0x5e9e('0xa0')](_0xfade30)[_0x5e9e('0x55')];_0x3ea757++){if(_0x2989ac[_0x5e9e('0x38')](_0x5e9e('0xc'))[0x1][_0x5e9e('0xd2')][0x2][_0x5e9e('0x52')]!=langShinko[0x10]){var _0x468cf0=$(_0xfade30[_0x3ea757]);var _0x1d66fc=_0x468cf0[_0x5e9e('0x38')](_0x5e9e('0x61'))[_0x5e9e('0xf')](_0x5e9e('0x2f'))[_0x5e9e('0x92')]('\x20');var _0x164b6d=_0x1d66fc[_0x1d66fc['length']-0x1];var _0x2fb379=_0x468cf0[_0x5e9e('0x80')]()[_0x5e9e('0x8e')](/[^\d]/g,'');_0xba8478[_0x164b6d]=_0x2fb379;_0x196fb3=_0x2989ac[_0x5e9e('0x38')]('#trades_table\x20tr')[_0x170dba]['children'][0x3]['children'][0x2]['href'][_0x5e9e('0xe5')](/id=(\d*)/)[0x1];}}}else{console[_0x5e9e('0xf7')](_0x5e9e('0x66'));var _0xfade30=_0x2989ac[_0x5e9e('0x38')](_0x5e9e('0xc'))[_0x170dba][_0x5e9e('0xd2')][0x8]['children'];console[_0x5e9e('0xf7')](Object[_0x5e9e('0xa0')](_0xfade30)['length']);for(var _0x3ea757=0x0;_0x3ea757<Object[_0x5e9e('0xa0')](_0xfade30)[_0x5e9e('0x55')];_0x3ea757++){var _0x468cf0=$(_0xfade30[_0x3ea757]);if(_0x468cf0[0x0][_0x5e9e('0x4')][_0x5e9e('0xfc')](_0x5e9e('0x15'))>-0x1){var _0x1d66fc=_0x468cf0[_0x5e9e('0x38')](_0x5e9e('0xdf'))[_0x5e9e('0xf')](_0x5e9e('0x2f'))['split']('\x20');}else{var _0x1d66fc=_0x468cf0['attr']('class')[_0x5e9e('0x92')]('\x20');}if(_0x2989ac[_0x5e9e('0x38')](_0x5e9e('0xc'))[0x1][_0x5e9e('0xd2')][0x3][_0x5e9e('0x52')]!=langShinko[0xf]){var _0x164b6d=_0x1d66fc[_0x1d66fc[_0x5e9e('0x55')]-0x1];console[_0x5e9e('0xf7')](_0x164b6d);var _0x2fb379=_0x468cf0[_0x5e9e('0x80')]()[_0x5e9e('0x8e')](/[^\d]/g,'');console[_0x5e9e('0xf7')](_0x2fb379);_0xba8478[_0x164b6d]=_0x2fb379;_0x196fb3=_0x2989ac[_0x5e9e('0x38')](_0x5e9e('0xc'))[_0x170dba][_0x5e9e('0xd2')][0x4]['children'][0x0]['href'][_0x5e9e('0xe5')](/id=(\d*)/)[0x1];}}}if(_0x2989ac[_0x5e9e('0x38')]('#trades_table\x20tr')[0x1][_0x5e9e('0xd2')][0x3][_0x5e9e('0x52')]!=langShinko[0xf]&&_0x2989ac['find']('#trades_table\x20tr')[0x1][_0x5e9e('0xd2')][0x2][_0x5e9e('0x52')]!=langShinko[0x10]){if(incomingRes[_0x196fb3]==undefined){incomingRes[_0x196fb3]={'wood':0x0,'stone':0x0,'iron':0x0};}if(_0xba8478[_0x5e9e('0x44')]!=undefined){incomingRes[_0x196fb3][_0x5e9e('0x44')]+=parseInt(_0xba8478[_0x5e9e('0x44')]);}if(_0xba8478[_0x5e9e('0x97')]!=undefined){incomingRes[_0x196fb3][_0x5e9e('0x97')]+=parseInt(_0xba8478[_0x5e9e('0x97')]);}if(_0xba8478[_0x5e9e('0x83')]!=undefined){incomingRes[_0x196fb3][_0x5e9e('0x83')]+=parseInt(_0xba8478[_0x5e9e('0x83')]);}}}$['get'](URLProd,function(){console[_0x5e9e('0xf7')](_0x5e9e('0xd7'));})[_0x5e9e('0x78')](function(_0x3ac3f2){if($(_0x5e9e('0xe3'))[0x0]){console[_0x5e9e('0xf7')]('mobile');allWoodObjects=$(_0x3ac3f2)[_0x5e9e('0x38')](_0x5e9e('0x99'));allClayObjects=$(_0x3ac3f2)[_0x5e9e('0x38')](_0x5e9e('0x49'));allIronObjects=$(_0x3ac3f2)[_0x5e9e('0x38')]('.res.miron,.warn_90.miron,.warn.miron');allWarehouses=$(_0x3ac3f2)[_0x5e9e('0x38')](_0x5e9e('0xaa'));allVillages=$(_0x3ac3f2)[_0x5e9e('0x38')](_0x5e9e('0x85'));allFarms=$(_0x3ac3f2)['find'](_0x5e9e('0x2a'));allMerchants=$(_0x3ac3f2)['find']('a[href*=\x22market\x22]');productionTable=$(_0x3ac3f2)[_0x5e9e('0x38')](_0x5e9e('0xea'));for(var _0x20380e=0x0;_0x20380e<allWoodObjects[_0x5e9e('0x55')];_0x20380e++){n=allWoodObjects[_0x20380e][_0x5e9e('0xf0')];n=n[_0x5e9e('0x8e')](/\./g,'')[_0x5e9e('0x8e')](',','');allWoodTotals[_0x5e9e('0x5e')](n);};for(var _0x20380e=0x0;_0x20380e<allClayObjects['length'];_0x20380e++){n=allClayObjects[_0x20380e][_0x5e9e('0xf0')];n=n[_0x5e9e('0x8e')](/\./g,'')[_0x5e9e('0x8e')](',','');allClayTotals[_0x5e9e('0x5e')](n);};for(var _0x20380e=0x0;_0x20380e<allIronObjects[_0x5e9e('0x55')];_0x20380e++){n=allIronObjects[_0x20380e][_0x5e9e('0xf0')];n=n[_0x5e9e('0x8e')](/\./g,'')[_0x5e9e('0x8e')](',','');allIronTotals[_0x5e9e('0x5e')](n);};for(var _0x20380e=0x0;_0x20380e<allVillages[_0x5e9e('0x55')];_0x20380e++){warehouseCapacity[_0x5e9e('0x5e')](allWarehouses[_0x20380e][_0x5e9e('0xb1')][_0x5e9e('0x52')]);};for(var _0x20380e=0x0;_0x20380e<allVillages[_0x5e9e('0x55')];_0x20380e++){for(var _0x1c84a=0x1;_0x1c84a<allMerchants[_0x5e9e('0x55')];_0x1c84a++){availableMerchants[_0x5e9e('0x5e')](allMerchants[_0x1c84a][_0x5e9e('0x52')]);}totalMerchants[_0x5e9e('0x5e')](_0x5e9e('0xba'));};for(var _0x20380e=0x0;_0x20380e<allVillages['length'];_0x20380e++){farmSpaceUsed[_0x5e9e('0x5e')](allFarms[_0x20380e][_0x5e9e('0xb1')][_0x5e9e('0x52')][_0x5e9e('0xe5')](/(\d*)\/(\d*)/)[0x1]);farmSpaceTotal[_0x5e9e('0x5e')](allFarms[_0x20380e][_0x5e9e('0xb1')][_0x5e9e('0x52')][_0x5e9e('0xe5')](/(\d*)\/(\d*)/)[0x2]);};for(var _0x20380e=0x0;_0x20380e<allVillages[_0x5e9e('0x55')];_0x20380e++){console[_0x5e9e('0xf7')](_0x20380e*0x2+0x1);villagePoints[_0x5e9e('0x5e')](productionTable[_0x20380e*0x2+0x1][_0x5e9e('0x52')][_0x5e9e('0x8e')](/\./g,'')[_0x5e9e('0x8e')](',',''));}}else{console[_0x5e9e('0xf7')]('desktop');allWoodObjects=$(_0x3ac3f2)[_0x5e9e('0x38')](_0x5e9e('0x87'));allClayObjects=$(_0x3ac3f2)[_0x5e9e('0x38')](_0x5e9e('0x8d'));allIronObjects=$(_0x3ac3f2)[_0x5e9e('0x38')](_0x5e9e('0x6a'));allVillages=$(_0x3ac3f2)[_0x5e9e('0x38')](_0x5e9e('0x85'));for(var _0x20380e=0x0;_0x20380e<allWoodObjects[_0x5e9e('0x55')];_0x20380e++){n=allWoodObjects[_0x20380e][_0x5e9e('0xf0')];n=n[_0x5e9e('0x8e')](/\./g,'')[_0x5e9e('0x8e')](',','');allWoodTotals[_0x5e9e('0x5e')](n);};for(var _0x20380e=0x0;_0x20380e<allClayObjects[_0x5e9e('0x55')];_0x20380e++){n=allClayObjects[_0x20380e][_0x5e9e('0xf0')];n=n[_0x5e9e('0x8e')](/\./g,'')[_0x5e9e('0x8e')](',','');allClayTotals[_0x5e9e('0x5e')](n);};for(var _0x20380e=0x0;_0x20380e<allIronObjects[_0x5e9e('0x55')];_0x20380e++){n=allIronObjects[_0x20380e][_0x5e9e('0xf0')];n=n[_0x5e9e('0x8e')](/\./g,'')[_0x5e9e('0x8e')](',','');allIronTotals[_0x5e9e('0x5e')](n);};for(var _0x20380e=0x0;_0x20380e<allVillages['length'];_0x20380e++){warehouseCapacity[_0x5e9e('0x5e')](allIronObjects[_0x20380e][_0x5e9e('0xb1')][_0x5e9e('0xef')][_0x5e9e('0x4')]);};for(var _0x20380e=0x0;_0x20380e<allVillages[_0x5e9e('0x55')];_0x20380e++){availableMerchants[_0x5e9e('0x5e')](allIronObjects[_0x20380e][_0x5e9e('0xb1')]['nextElementSibling'][_0x5e9e('0xef')][_0x5e9e('0x52')][_0x5e9e('0xe5')](/(\d*)\/(\d*)/)[0x1]);totalMerchants[_0x5e9e('0x5e')](allIronObjects[_0x20380e][_0x5e9e('0xb1')][_0x5e9e('0xef')]['nextElementSibling'][_0x5e9e('0x52')][_0x5e9e('0xe5')](/(\d*)\/(\d*)/)[0x2]);};for(var _0x20380e=0x0;_0x20380e<allVillages[_0x5e9e('0x55')];_0x20380e++){farmSpaceUsed[_0x5e9e('0x5e')](allIronObjects[_0x20380e][_0x5e9e('0xb1')][_0x5e9e('0xef')][_0x5e9e('0xef')][_0x5e9e('0xef')][_0x5e9e('0x52')][_0x5e9e('0xe5')](/(\d*)\/(\d*)/)[0x1]);farmSpaceTotal[_0x5e9e('0x5e')](allIronObjects[_0x20380e][_0x5e9e('0xb1')][_0x5e9e('0xef')]['nextElementSibling'][_0x5e9e('0xef')][_0x5e9e('0x52')][_0x5e9e('0xe5')](/(\d*)\/(\d*)/)[0x2]);};for(var _0x20380e=0x0;_0x20380e<allVillages['length'];_0x20380e++){villagePoints[_0x5e9e('0x5e')](allWoodObjects[_0x20380e][_0x5e9e('0xb1')][_0x5e9e('0x68')]['innerText'][_0x5e9e('0x8e')](/\./g,'')[_0x5e9e('0x8e')](',',''));}}for(var _0x20380e=0x0;_0x20380e<allVillages[_0x5e9e('0x55')];_0x20380e++){villagesData['push']({'id':allVillages[_0x20380e][_0x5e9e('0x10')]['id'],'points':villagePoints[_0x20380e],'url':allVillages[_0x20380e][_0x5e9e('0xd2')][0x0]['children'][0x0]['href'],'name':allVillages[_0x20380e]['innerText'][_0x5e9e('0x4d')](),'wood':allWoodTotals[_0x20380e],'stone':allClayTotals[_0x20380e],'iron':allIronTotals[_0x20380e],'availableMerchants':availableMerchants[_0x20380e],'totalMerchants':totalMerchants[_0x20380e],'warehouseCapacity':warehouseCapacity[_0x20380e],'farmSpaceUsed':farmSpaceUsed[_0x20380e],'farmSpaceTotal':farmSpaceTotal[_0x20380e]});};villagesData[_0x5e9e('0xcb')]((_0x485b03,_0x382385)=>parseInt(_0x485b03[_0x5e9e('0x6e')])<parseInt(_0x382385[_0x5e9e('0x6e')])?0x1:-0x1);totalWood=0x0;totalStone=0x0;totalIron=0x0;for(var _0x20380e in allWoodTotals){totalWood+=parseInt(allWoodTotals[_0x20380e]);}for(var _0x20380e in allClayTotals){totalStone+=parseInt(allClayTotals[_0x20380e]);}for(var _0x20380e in allIronTotals){totalIron+=parseInt(allIronTotals[_0x20380e]);}for(var _0x364805=0x0;_0x364805<Object[_0x5e9e('0xa0')](incomingRes)['length'];_0x364805++){totalWood+=incomingRes[Object[_0x5e9e('0xa0')](incomingRes)[_0x364805]]['wood'];totalStone+=incomingRes[Object[_0x5e9e('0xa0')](incomingRes)[_0x364805]][_0x5e9e('0x97')];totalIron+=incomingRes[Object[_0x5e9e('0xa0')](incomingRes)[_0x364805]][_0x5e9e('0x83')];}woodAverage=Math['floor'](totalWood/warehouseCapacity[_0x5e9e('0x55')]);stoneAverage=Math['floor'](totalStone/warehouseCapacity[_0x5e9e('0x55')]);ironAverage=Math[_0x5e9e('0x3c')](totalIron/warehouseCapacity[_0x5e9e('0x55')]);totalsAndAverages=_0x5e9e('0x5')+langShinko[0x9]+':\x20'+totalWood+_0x5e9e('0x90')+langShinko[0xa]+':\x20'+totalStone+_0x5e9e('0x90')+langShinko[0xb]+':\x20'+totalIron+_0x5e9e('0xbc')+langShinko[0xc]+':\x20'+woodAverage+_0x5e9e('0x90')+langShinko[0xd]+':\x20'+stoneAverage+_0x5e9e('0x90')+langShinko[0xe]+':\x20'+ironAverage+_0x5e9e('0x9f');$(_0x5e9e('0x45'))['eq'](0x0)[_0x5e9e('0xbe')](_0x5e9e('0xc4'));$('#mobileHeader')['eq'](0x0)['prepend']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22progressbar\x22\x20style=\x22width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#36393f;\x22><div\x20id=\x22progress\x22\x20style=\x22width:\x200%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2035px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20black;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');for(var _0x5bfdfd=0x0;_0x5bfdfd<villagesData[_0x5e9e('0x55')];_0x5bfdfd++){console[_0x5e9e('0xf7')](_0x5e9e('0x3a'));excessResources[_0x5bfdfd]=[];shortageResources[_0x5bfdfd]=[];villageID[_0x5e9e('0x5e')](villagesData[_0x5bfdfd]['id']);if(typeof incomingRes[villagesData[_0x5bfdfd]['id']]==_0x5e9e('0x62')){incomingWood=0x0;incomingStone=0x0;incomingIron=0x0;}else{incomingWood=incomingRes[villagesData[_0x5bfdfd]['id']][_0x5e9e('0x44')];incomingStone=incomingRes[villagesData[_0x5bfdfd]['id']]['stone'];incomingIron=incomingRes[villagesData[_0x5bfdfd]['id']][_0x5e9e('0x83')];}console[_0x5e9e('0xf7')](_0x5e9e('0x1f')+incomingWood+_0x5e9e('0xb4')+incomingStone+_0x5e9e('0xc2')+incomingIron);if(woodAverage<villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings['needsMorePercentage']){tempWood=parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x44')])+incomingWood-woodAverage;}else{console[_0x5e9e('0xf7')](_0x5e9e('0xb2'));tempWood=-Math[_0x5e9e('0xd1')](villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings['needsMorePercentage']-incomingWood-parseInt(villagesData[_0x5bfdfd]['wood']));}if(stoneAverage<villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings[_0x5e9e('0xd4')]){tempStone=parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x97')])+incomingStone-stoneAverage;}else{console[_0x5e9e('0xf7')]('Average\x20is\x20higher\x20than\x20capacity,\x20reduce');tempStone=-Math[_0x5e9e('0xd1')](villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings[_0x5e9e('0xd4')]-incomingStone-parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x97')]));}if(ironAverage<villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings[_0x5e9e('0xd4')]){tempIron=parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x83')])+incomingIron-ironAverage;}else{console['log'](_0x5e9e('0xb2'));tempIron=-Math[_0x5e9e('0xd1')](villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings[_0x5e9e('0xd4')]-incomingIron-parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x83')]));}console[_0x5e9e('0xf7')](tempWood);console[_0x5e9e('0xf7')](tempStone);console[_0x5e9e('0xf7')](tempIron);if(villagesData[_0x5bfdfd][_0x5e9e('0xa3')]>settings[_0x5e9e('0xb6')]){console[_0x5e9e('0xf7')](_0x5e9e('0x42')+villagesData[_0x5bfdfd][_0x5e9e('0xa3')]+'/'+villagesData[_0x5bfdfd][_0x5e9e('0x9c')]+_0x5e9e('0x28')+villagesData[_0x5bfdfd][_0x5e9e('0xc3')]+',\x20adjusting\x20what\x20we\x20leave\x20at\x20home\x20to\x20be\x20'+0x64*settings[_0x5e9e('0x60')]+'%');if(parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x44')])+incomingWood>settings[_0x5e9e('0x60')]*villagesData[_0x5bfdfd]['warehouseCapacity']){tempWood=Math[_0x5e9e('0xd1')](parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x44')])+incomingWood-settings[_0x5e9e('0x60')]*villagesData[_0x5bfdfd][_0x5e9e('0x9')]);}if(parseInt(villagesData[_0x5bfdfd]['stone'])+incomingStone>settings['builtOutPercentage']*villagesData[_0x5bfdfd]['warehouseCapacity']){tempStone=Math[_0x5e9e('0xd1')](parseInt(villagesData[_0x5bfdfd]['stone'])+incomingStone-settings[_0x5e9e('0x60')]*villagesData[_0x5bfdfd][_0x5e9e('0x9')]);}if(parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x83')])+incomingIron>settings[_0x5e9e('0x60')]*villagesData[_0x5bfdfd][_0x5e9e('0x9')]){tempIron=Math['round'](parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x83')])+incomingIron-settings[_0x5e9e('0x60')]*villagesData[_0x5bfdfd][_0x5e9e('0x9')]);}}if(villagesData[_0x5bfdfd][_0x5e9e('0x6e')]<settings[_0x5e9e('0x95')]){console[_0x5e9e('0xf7')](villagesData[_0x5bfdfd][_0x5e9e('0xc3')]+'\x20('+villagesData[_0x5bfdfd][_0x5e9e('0x6e')]+')'+_0x5e9e('0x8b')+settings['needsMorePercentage']*0x64+_0x5e9e('0x76'));tempWood=-Math[_0x5e9e('0xd1')](villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings[_0x5e9e('0xd4')]-parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x44')])-incomingWood);tempStone=-Math[_0x5e9e('0xd1')](villagesData[_0x5bfdfd]['warehouseCapacity']*settings[_0x5e9e('0xd4')]-parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x97')])-incomingStone);tempIron=-Math[_0x5e9e('0xd1')](villagesData[_0x5bfdfd]['warehouseCapacity']*settings[_0x5e9e('0xd4')]-parseInt(villagesData[_0x5bfdfd]['iron'])-incomingIron);}if(incomingWood+parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x44')])>villagesData[_0x5bfdfd]['warehouseCapacity']){console[_0x5e9e('0xf7')](_0x5e9e('0x26')+villagesData[_0x5bfdfd][_0x5e9e('0xc3')]);tempWood=-Math[_0x5e9e('0xd1')](villagesData[_0x5bfdfd]['warehouseCapacity']*settings[_0x5e9e('0xd4')]-incomingWood-parseInt(villagesData[_0x5bfdfd]['wood']));}if(incomingStone+parseInt(villagesData[_0x5bfdfd]['stone'])>villagesData[_0x5bfdfd][_0x5e9e('0x9')]){console[_0x5e9e('0xf7')](_0x5e9e('0xaf')+villagesData[_0x5bfdfd]['name']);tempStone=-Math[_0x5e9e('0xd1')](villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings['needsMorePercentage']-incomingStone-parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x97')]));}if(incomingIron+parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x83')])>villagesData[_0x5bfdfd][_0x5e9e('0x9')]){console[_0x5e9e('0xf7')](_0x5e9e('0x30')+villagesData[_0x5bfdfd][_0x5e9e('0xc3')]);tempIron=-Math[_0x5e9e('0xd1')](villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings[_0x5e9e('0xd4')]-incomingIron-parseInt(villagesData[_0x5bfdfd]['iron']));}if(tempWood>0x0&&tempWood>parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x44')])){console[_0x5e9e('0xf7')](_0x5e9e('0x40'));tempWood=parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x44')]);}if(tempStone>0x0&&tempStone>parseInt(villagesData[_0x5bfdfd]['stone'])){console[_0x5e9e('0xf7')](_0x5e9e('0x40'));tempStone=parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x97')]);}if(tempIron>0x0&&tempIron>parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x83')])){console[_0x5e9e('0xf7')](_0x5e9e('0x40'));tempIron=parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x83')]);}console[_0x5e9e('0xf7')](_0x5e9e('0xd9')+villagesData[_0x5bfdfd][_0x5e9e('0xc3')]+'\x0a'+_0x5e9e('0x3d')+villagesData[_0x5bfdfd][_0x5e9e('0x9')]*settings[_0x5e9e('0xd4')]+'\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Warehouse\x20capacity:\x20'+villagesData[_0x5bfdfd]['warehouseCapacity']+'\x0a'+_0x5e9e('0x31')+parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x44')])+'\x0a'+_0x5e9e('0x43')+parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x97')])+'\x0a'+_0x5e9e('0xc0')+parseInt(villagesData[_0x5bfdfd][_0x5e9e('0x83')]));console['log'](_0x5e9e('0x9e')+tempWood+_0x5e9e('0x82')+tempStone+_0x5e9e('0x88')+tempIron);if(tempWood>0x0){excessResources[_0x5bfdfd]['push']({'wood':Math[_0x5e9e('0x3c')](tempWood/0x3e8)*0x3e8});shortageResources[_0x5bfdfd][_0x5e9e('0x5e')]({'wood':0x0});}else{shortageResources[_0x5bfdfd][_0x5e9e('0x5e')]({'wood':Math[_0x5e9e('0x3c')](-tempWood/0x3e8)*0x3e8});excessResources[_0x5bfdfd][_0x5e9e('0x5e')]({'wood':0x0});}if(tempStone>0x0){excessResources[_0x5bfdfd][_0x5e9e('0x5e')]({'stone':Math['floor'](tempStone/0x3e8)*0x3e8});shortageResources[_0x5bfdfd][_0x5e9e('0x5e')]({'stone':0x0});}else{shortageResources[_0x5bfdfd][_0x5e9e('0x5e')]({'stone':Math[_0x5e9e('0x3c')](-tempStone/0x3e8)*0x3e8});excessResources[_0x5bfdfd][_0x5e9e('0x5e')]({'stone':0x0});}if(tempIron>0x0){excessResources[_0x5bfdfd][_0x5e9e('0x5e')]({'iron':Math[_0x5e9e('0x3c')](tempIron/0x3e8)*0x3e8});shortageResources[_0x5bfdfd][_0x5e9e('0x5e')]({'iron':0x0});}else{shortageResources[_0x5bfdfd][_0x5e9e('0x5e')]({'iron':Math[_0x5e9e('0x3c')](-tempIron/0x3e8)*0x3e8});excessResources[_0x5bfdfd][_0x5e9e('0x5e')]({'iron':0x0});}}for(var _0x4e13ed=0x0;_0x4e13ed<excessResources[_0x5e9e('0x55')];_0x4e13ed++){tempAllExcessCombined=parseInt(Math['floor'](excessResources[_0x4e13ed][0x0][_0x5e9e('0x44')]/0x3e8)*0x3e8)+parseInt(Math[_0x5e9e('0x3c')](excessResources[_0x4e13ed][0x1][_0x5e9e('0x97')]/0x3e8)*0x3e8)+parseInt(Math[_0x5e9e('0x3c')](excessResources[_0x4e13ed][0x2][_0x5e9e('0x83')]/0x3e8)*0x3e8);if(tempAllExcessCombined>0x0){tempMaxMerchantsNeeded=Math['floor'](tempAllExcessCombined/0x3e8);if(tempMaxMerchantsNeeded<villagesData[_0x4e13ed][_0x5e9e('0x1a')]){merchantOrders[_0x5e9e('0x5e')]({'villageID':villagesData[_0x4e13ed]['id'],'x':villagesData[_0x4e13ed][_0x5e9e('0xc3')][_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x1],'y':villagesData[_0x4e13ed][_0x5e9e('0xc3')]['match'](/(\d+)\|(\d+)/)[0x2],'wood':Math[_0x5e9e('0x3c')](excessResources[_0x4e13ed][0x0][_0x5e9e('0x44')]/0x3e8),'stone':Math[_0x5e9e('0x3c')](excessResources[_0x4e13ed][0x1][_0x5e9e('0x97')]/0x3e8),'iron':Math[_0x5e9e('0x3c')](excessResources[_0x4e13ed][0x2][_0x5e9e('0x83')]/0x3e8)});}else{tempPercWood=excessResources[_0x4e13ed][0x0]['wood']/tempAllExcessCombined;tempPercStone=excessResources[_0x4e13ed][0x1][_0x5e9e('0x97')]/tempAllExcessCombined;tempPercIron=excessResources[_0x4e13ed][0x2][_0x5e9e('0x83')]/tempAllExcessCombined;merchantOrders[_0x5e9e('0x5e')]({'villageID':villagesData[_0x4e13ed]['id'],'x':villagesData[_0x4e13ed][_0x5e9e('0xc3')][_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x1],'y':villagesData[_0x4e13ed][_0x5e9e('0xc3')][_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x2],'wood':Math[_0x5e9e('0x3c')](tempPercWood*villagesData[_0x4e13ed][_0x5e9e('0x1a')]),'stone':Math['floor'](tempPercStone*villagesData[_0x4e13ed][_0x5e9e('0x1a')]),'iron':Math['floor'](tempPercIron*villagesData[_0x4e13ed][_0x5e9e('0x1a')])});}}}for(var _0x169b10=shortageResources[_0x5e9e('0x55')]-0x1;_0x169b10>=0x0;_0x169b10--){$(_0x5e9e('0xe4'))[_0x5e9e('0x34')](_0x5e9e('0x13'),(shortageResources['length']-_0x169b10)/shortageResources[_0x5e9e('0x55')]*0x64+'%');for(var _0xccac50=0x0;_0xccac50<merchantOrders[_0x5e9e('0x55')];_0xccac50++){merchantOrders[_0xccac50][_0x5e9e('0x7d')]=checkDistance(merchantOrders[_0xccac50]['x'],merchantOrders[_0xccac50]['y'],villagesData[_0x169b10]['name'][_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x1],villagesData[_0x169b10]['name'][_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x2]);}merchantOrders[_0x5e9e('0xcb')](function(_0x422843,_0x32b7a0){return _0x422843[_0x5e9e('0x7d')]-_0x32b7a0['distance'];});if(shortageResources[_0x169b10][0x0][_0x5e9e('0x44')]<=0x0){}else{while(shortageResources[_0x169b10][0x0]['wood']>0x0){var _0x53aadc=0x0;for(var _0x30af04=0x0;_0x30af04<merchantOrders[_0x5e9e('0x55')];_0x30af04++){_0x53aadc+=merchantOrders[_0x30af04][_0x5e9e('0x44')];if(merchantOrders[_0x30af04][_0x5e9e('0x44')]>0x0){if(shortageResources[_0x169b10][0x0][_0x5e9e('0x44')]<=merchantOrders[_0x30af04][_0x5e9e('0x44')]*0x3e8){links[_0x5e9e('0x5e')]({'source':merchantOrders[_0x30af04][_0x5e9e('0xc6')],'target':villageID[_0x169b10],'wood':shortageResources[_0x169b10][0x0]['wood']});merchantOrders[_0x30af04][_0x5e9e('0x44')]-=shortageResources[_0x169b10][0x0][_0x5e9e('0x44')]/0x3e8;shortageResources[_0x169b10][0x0][_0x5e9e('0x44')]=0x0;}if(shortageResources[_0x169b10][0x0][_0x5e9e('0x44')]>merchantOrders[_0x30af04][_0x5e9e('0x44')]*0x3e8){links[_0x5e9e('0x5e')]({'source':merchantOrders[_0x30af04][_0x5e9e('0xc6')],'target':villageID[_0x169b10],'wood':merchantOrders[_0x30af04][_0x5e9e('0x44')]*0x3e8});shortageResources[_0x169b10][0x0]['wood']-=merchantOrders[_0x30af04]['wood']*0x3e8;merchantOrders[_0x30af04][_0x5e9e('0x44')]=0x0;}}if(shortageResources[_0x169b10][0x0][_0x5e9e('0x44')]<=0x0){break;}if(_0x30af04==merchantOrders[_0x5e9e('0x55')]-0x1&&shortageResources[_0x169b10][0x0][_0x5e9e('0x44')]>0x0){console[_0x5e9e('0xf7')](_0x5e9e('0xd8'));_0x53aadc=0x0;break;}}if(_0x53aadc==0x0){_0x169b10=0x0;break;}}}}for(var _0x169b10=shortageResources[_0x5e9e('0x55')]-0x1;_0x169b10>=0x0;_0x169b10--){$(_0x5e9e('0xe4'))[_0x5e9e('0x34')](_0x5e9e('0x13'),(shortageResources[_0x5e9e('0x55')]-_0x169b10)/shortageResources[_0x5e9e('0x55')]*0x64+'%');for(var _0xccac50=0x0;_0xccac50<merchantOrders[_0x5e9e('0x55')];_0xccac50++){merchantOrders[_0xccac50][_0x5e9e('0x7d')]=checkDistance(merchantOrders[_0xccac50]['x'],merchantOrders[_0xccac50]['y'],villagesData[_0x169b10]['name'][_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x1],villagesData[_0x169b10][_0x5e9e('0xc3')][_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x2]);}merchantOrders[_0x5e9e('0xcb')](function(_0x8ea781,_0x4ab65b){return _0x8ea781[_0x5e9e('0x7d')]-_0x4ab65b[_0x5e9e('0x7d')];});if(shortageResources[_0x169b10][0x1][_0x5e9e('0x97')]<=0x0){}else{while(shortageResources[_0x169b10][0x1][_0x5e9e('0x97')]>0x0){console['log'](_0x169b10);var _0x40b8ec=0x0;for(var _0x30af04=0x0;_0x30af04<merchantOrders[_0x5e9e('0x55')];_0x30af04++){_0x40b8ec+=merchantOrders[_0x30af04][_0x5e9e('0x97')];if(merchantOrders[_0x30af04][_0x5e9e('0x97')]>0x0){if(shortageResources[_0x169b10][0x1][_0x5e9e('0x97')]<=merchantOrders[_0x30af04][_0x5e9e('0x97')]*0x3e8){links[_0x5e9e('0x5e')]({'source':merchantOrders[_0x30af04][_0x5e9e('0xc6')],'target':villageID[_0x169b10],'stone':shortageResources[_0x169b10][0x1][_0x5e9e('0x97')]});merchantOrders[_0x30af04][_0x5e9e('0x97')]-=shortageResources[_0x169b10][0x1][_0x5e9e('0x97')]/0x3e8;shortageResources[_0x169b10][0x1][_0x5e9e('0x97')]=0x0;}if(shortageResources[_0x169b10][0x1]['stone']>merchantOrders[_0x30af04][_0x5e9e('0x97')]*0x3e8){links[_0x5e9e('0x5e')]({'source':merchantOrders[_0x30af04][_0x5e9e('0xc6')],'target':villageID[_0x169b10],'stone':merchantOrders[_0x30af04][_0x5e9e('0x97')]*0x3e8});shortageResources[_0x169b10][0x1][_0x5e9e('0x97')]-=merchantOrders[_0x30af04][_0x5e9e('0x97')]*0x3e8;merchantOrders[_0x30af04]['stone']=0x0;}}if(shortageResources[_0x169b10][0x1]['stone']<=0x0){break;}if(_0x30af04==merchantOrders[_0x5e9e('0x55')]-0x1&&shortageResources[_0x169b10][0x1][_0x5e9e('0x97')]>0x0){console['log'](_0x5e9e('0xd8'));_0x40b8ec=0x0;break;}}if(_0x40b8ec==0x0){_0x169b10=0x0;break;}}}}for(var _0x169b10=shortageResources[_0x5e9e('0x55')]-0x1;_0x169b10>=0x0;_0x169b10--){$(_0x5e9e('0xe4'))['css']('width',(shortageResources[_0x5e9e('0x55')]-_0x169b10)/shortageResources[_0x5e9e('0x55')]*0x64+'%');for(var _0xccac50=0x0;_0xccac50<merchantOrders['length'];_0xccac50++){merchantOrders[_0xccac50][_0x5e9e('0x7d')]=checkDistance(merchantOrders[_0xccac50]['x'],merchantOrders[_0xccac50]['y'],villagesData[_0x169b10][_0x5e9e('0xc3')][_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x1],villagesData[_0x169b10][_0x5e9e('0xc3')][_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x2]);}merchantOrders[_0x5e9e('0xcb')](function(_0x4ae243,_0x16f5d4){return _0x4ae243[_0x5e9e('0x7d')]-_0x16f5d4[_0x5e9e('0x7d')];});if(shortageResources[_0x169b10][0x2][_0x5e9e('0x83')]<=0x0){}else{while(shortageResources[_0x169b10][0x2]['iron']>0x0){var _0x3f7f21=0x0;for(var _0x30af04=0x0;_0x30af04<merchantOrders[_0x5e9e('0x55')];_0x30af04++){_0x3f7f21+=merchantOrders[_0x30af04][_0x5e9e('0x83')];if(merchantOrders[_0x30af04]['iron']>0x0){if(shortageResources[_0x169b10][0x2]['iron']<=merchantOrders[_0x30af04][_0x5e9e('0x83')]*0x3e8){links[_0x5e9e('0x5e')]({'source':merchantOrders[_0x30af04][_0x5e9e('0xc6')],'target':villageID[_0x169b10],'iron':shortageResources[_0x169b10][0x2][_0x5e9e('0x83')]});merchantOrders[_0x30af04][_0x5e9e('0x83')]-=shortageResources[_0x169b10][0x2][_0x5e9e('0x83')]/0x3e8;shortageResources[_0x169b10][0x2][_0x5e9e('0x83')]=0x0;}if(shortageResources[_0x169b10][0x2][_0x5e9e('0x83')]>merchantOrders[_0x30af04]['iron']*0x3e8){links['push']({'source':merchantOrders[_0x30af04]['villageID'],'target':villageID[_0x169b10],'iron':merchantOrders[_0x30af04][_0x5e9e('0x83')]*0x3e8});shortageResources[_0x169b10][0x2][_0x5e9e('0x83')]-=merchantOrders[_0x30af04][_0x5e9e('0x83')]*0x3e8;merchantOrders[_0x30af04]['iron']=0x0;}}if(shortageResources[_0x169b10][0x2][_0x5e9e('0x83')]<=0x0){break;}if(_0x30af04==merchantOrders[_0x5e9e('0x55')]-0x1&&shortageResources[_0x169b10][0x2]['iron']>0x0){console['log']('Done\x20with\x20this\x20cycle');totalIronToTrade=0x0;break;}}if(_0x3f7f21==0x0){_0x169b10=0x0;break;}}}}$('#progress')[_0x5e9e('0xac')]();htmlCode=_0x5e9e('0xb5')+langShinko[0x0]+_0x5e9e('0x8c')+langShinko[0x1]+_0x5e9e('0x6c')+langShinko[0x2]+_0x5e9e('0x0')+langShinko[0x3]+_0x5e9e('0xdb')+langShinko[0x4]+_0x5e9e('0xdb')+langShinko[0x5]+_0x5e9e('0xdb')+langShinko[0x6]+_0x5e9e('0xa4')+langShinko[0x8]+_0x5e9e('0xdd')+totalsAndAverages+_0x5e9e('0x25');$(_0x5e9e('0xe3'))['eq'](0x0)[_0x5e9e('0x93')](htmlCode);$(_0x5e9e('0xbd'))['eq'](0x0)[_0x5e9e('0xbe')](htmlCode);createList();})[_0x5e9e('0x7c')](function(){console[_0x5e9e('0xf7')](_0x5e9e('0x73'));})[_0x5e9e('0x77')](function(){console[_0x5e9e('0xf7')](_0x5e9e('0x71'));});});function createList(){console['log']('Reached\x20list\x20creation');for(var _0x25c482=0x0;_0x25c482<links[_0x5e9e('0x55')];_0x25c482++){if(links[_0x25c482]['wood']==undefined)links[_0x25c482][_0x5e9e('0x44')]=0x0;if(links[_0x25c482][_0x5e9e('0x97')]==undefined)links[_0x25c482]['stone']=0x0;if(links[_0x25c482][_0x5e9e('0x83')]==undefined)links[_0x25c482][_0x5e9e('0x83')]=0x0;}console[_0x5e9e('0xf7')]('Filled\x20up\x20the\x20sendings');for(var _0x25c482=0x0;_0x25c482<links[_0x5e9e('0x55')];_0x25c482++){for(var _0x38328a=0x0;_0x38328a<links[_0x5e9e('0x55')];_0x38328a++){if(links[_0x25c482][_0x5e9e('0xe7')]==links[_0x38328a][_0x5e9e('0xe7')]&&links[_0x25c482][_0x5e9e('0x96')]==links[_0x38328a][_0x5e9e('0x96')]&&_0x25c482!=_0x38328a){links[_0x25c482]['wood']+=parseInt(links[_0x38328a]['wood']);links[_0x38328a][_0x5e9e('0x44')]=0x0;links[_0x25c482][_0x5e9e('0x97')]+=parseInt(links[_0x38328a][_0x5e9e('0x97')]);links[_0x38328a][_0x5e9e('0x97')]=0x0;links[_0x25c482]['iron']+=parseInt(links[_0x38328a][_0x5e9e('0x83')]);links[_0x38328a]['iron']=0x0;}}}console['log'](_0x5e9e('0x24'));for(var _0x25c482=0x0;_0x25c482<links['length'];_0x25c482++){if(links[_0x25c482]['wood']+links[_0x25c482][_0x5e9e('0x97')]+links[_0x25c482][_0x5e9e('0x83')]==0x0){delete links[_0x25c482];}}console['log']('removed\x20empty\x20lines');for(var _0x25c482=0x0;_0x25c482<Object[_0x5e9e('0xa0')](links)[_0x5e9e('0x55')];_0x25c482++){cleanLinks[_0x5e9e('0x5e')](links[Object[_0x5e9e('0xa0')](links)[_0x25c482]]);}console[_0x5e9e('0xf7')](_0x5e9e('0xa5'));cleanLinks=addDistanceToArray(cleanLinks);listHTML='';cleanLinks[_0x5e9e('0xcb')](function(_0x1315ef,_0xe24583){return _0x1315ef[_0x5e9e('0x7d')]-_0xe24583[_0x5e9e('0x7d')];});for(var _0x25c482=0x0;_0x25c482<cleanLinks[_0x5e9e('0x55')];_0x25c482++){console['log'](_0x5e9e('0x81')+_0x25c482+_0x5e9e('0x2e'));if(_0x25c482%0x2==0x0){tempRow=_0x5e9e('0x5b')+_0x25c482+'\x27\x20class=\x27sophRowB\x27';}else{tempRow=_0x5e9e('0x5b')+_0x25c482+_0x5e9e('0x7e');}for(property in villagesData){if(villagesData[property]['id']==cleanLinks[_0x25c482]['source']){sourceName=villagesData[property][_0x5e9e('0xc3')];sourceURL=villagesData[property]['url'];}}for(property in villagesData){if(villagesData[property]['id']==cleanLinks[_0x25c482][_0x5e9e('0x96')]){targetName=villagesData[property][_0x5e9e('0xc3')];targetURL=villagesData[property][_0x5e9e('0xbf')];targetWood=villagesData[property][_0x5e9e('0x44')];targetStone=villagesData[property]['stone'];targetIron=villagesData[property][_0x5e9e('0x83')];targetCapacity=villagesData[property]['warehouseCapacity'];}}listHTML+=_0x5e9e('0xb7')+tempRow+_0x5e9e('0x53')+sourceURL+_0x5e9e('0x79')+sourceName+_0x5e9e('0x41')+targetURL+_0x5e9e('0xce')+targetWood+_0x5e9e('0x72')+targetStone+_0x5e9e('0xe9')+targetIron+'&#10;Warehouse\x20capacity:\x20'+targetCapacity+'\x22>'+targetName+_0x5e9e('0xc8')+cleanLinks[_0x25c482]['distance']+_0x5e9e('0x3b')+cleanLinks[_0x25c482][_0x5e9e('0x44')]+'<span\x20class=\x22icon\x20header\x20wood\x22>\x20</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>'+cleanLinks[_0x25c482][_0x5e9e('0x97')]+_0x5e9e('0x4a')+cleanLinks[_0x25c482][_0x5e9e('0x83')]+_0x5e9e('0x84')+langShinko[0x7]+_0x5e9e('0x51')+cleanLinks[_0x25c482]['source']+','+cleanLinks[_0x25c482][_0x5e9e('0x96')]+','+cleanLinks[_0x25c482][_0x5e9e('0x44')]+','+cleanLinks[_0x25c482][_0x5e9e('0x97')]+','+cleanLinks[_0x25c482][_0x5e9e('0x83')]+','+_0x25c482+')\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>';}$(_0x5e9e('0x9a'))['eq'](0x0)[_0x5e9e('0x93')](listHTML);$(_0x5e9e('0xb3'))[0x0][_0x5e9e('0x1')]();console[_0x5e9e('0xf7')]('Finished');}function checkDistance(_0x202d30,_0x41699b,_0xfafdfe,_0x472742){var _0x2180c6=_0x202d30-_0xfafdfe;var _0x5f0d8a=_0x41699b-_0x472742;var _0x3549cf=Math[_0x5e9e('0xd1')](Math[_0x5e9e('0xd')](_0x2180c6,_0x5f0d8a));return _0x3549cf;}function addDistanceToArray(_0x486451){for(var _0x169fd0=0x0;_0x169fd0<_0x486451[_0x5e9e('0x55')];_0x169fd0++){for(property in villagesData){if(villagesData[property]['id']==_0x486451[_0x169fd0][_0x5e9e('0xe7')]){sourceName=villagesData[property][_0x5e9e('0xc3')];sourceURL=villagesData[property][_0x5e9e('0xbf')];}}for(property in villagesData){if(villagesData[property]['id']==_0x486451[_0x169fd0][_0x5e9e('0x96')]){targetName=villagesData[property][_0x5e9e('0xc3')];targetURL=villagesData[property][_0x5e9e('0xbf')];}}_0x486451[_0x169fd0]['distance']=checkDistance(sourceName[_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x1],sourceName[_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x2],targetName[_0x5e9e('0xe5')](/(\d+)\|(\d+)/)[0x1],targetName['match'](/(\d+)\|(\d+)/)[0x2]);}return _0x486451;}