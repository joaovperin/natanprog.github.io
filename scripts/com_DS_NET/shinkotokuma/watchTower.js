var _0xb457=['height','minimap','watchtower','value','lineTo','#mapOverlay_topo_canvas_','replace','css','#contentContainer','<tr\x20class=\x22','width','zIndex','moveTo','mapHandler','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><center><input\x20type=\x22text\x22\x20id=\x22coord','#mobileHeader','#removeRow','\x22\x20name=\x22watchtower\x22\x20\x20size=\x226\x22\x20placeholder=\x22WT\x20level\x22\x20value=\x22','absolute','lineWidth','\x22/></center></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><center><input\x20type=\x22text\x22\x20id=\x22watchtower','#FFFFFF','watchTowerData','push','canvas','spawnSector','\x22/></center></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><center><span\x20id=\x22removeRow\x22><img\x20src=\x22https://dsen.innogamescdn.com/asset/d25bbc6/graphic/delete.png\x22\x20title=\x22removeRow\x22></span></center></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>','_loadedSectors','closePath','insertBefore','rgba(0,\x200,\x200,\x200.2)','stringify','click','#WTData\x20:input','<td\x20style=\x27display:\x20inline-block;vertical-align:\x20top;\x27>','fill','fillStyle','display','village','closest','#contentContainer\x20tr','arc','</td>','sectorSize','watchtowerRadius','Getting\x20which\x20category\x20types\x20are\x20enabled\x20from\x20storage','_spawnSector','length','#coordinates','pixelByCoord','appendElement','style','split','#addButton','250','mapOverlay_topo_canvas_','.add_button','\x22\x20name=\x22village\x22\x20class=\x22target-input-field\x20target-input-autocomplete\x20ui-autocomplete-input\x22\x20size=\x227\x22\x20placeholder=\x22xxx|xxx\x22\x20value=\x22','map','strokeStyle','tiles','beginPath','villages','serverData','sophRowA','clearRect','log','scale','val','className','none','serializeArray','mapOverlay_topo_canvas','prepend','mapOverlay_map_canvas','\x0a<style>\x0a.sophRowA\x20{\x0abackground-color:\x20#32353b;\x0acolor:\x20white;\x0a}\x0a.sophRowB\x20{\x0abackground-color:\x20#36393f;\x0acolor:\x20white;\x0a}\x0a.sophHeader\x20{\x0abackground-color:\x20#202225;\x0afont-weight:\x20bold;\x0acolor:\x20white;\x0a}\x0a</style>','getContext','#mapOverlay_canvas_','remove','ellipse','createElement','mapSubSectorSize','position','#000000','stroke','setItem'];(function(_0x4c5395,_0xb45715){var _0x53e48a=function(_0x4dda46){while(--_0x4dda46){_0x4c5395['push'](_0x4c5395['shift']());}};_0x53e48a(++_0xb45715);}(_0xb457,0x1a4));var _0x53e4=function(_0x4c5395,_0xb45715){_0x4c5395=_0x4c5395-0x0;var _0x53e48a=_0xb457[_0x4c5395];return _0x53e48a;};this['serverData']=[];this[_0x53e4('0x36')]=[1.1,1.3,1.5,1.7,0x2,2.3,2.6,0x3,3.4,3.9,4.4,5.1,5.8,6.7,7.6,8.7,0xa,11.5,13.1,0xf];var currentFields=0x0;var maxFields=0x63;cssClassesSophie=_0x53e4('0x55');$(_0x53e4('0x12'))['eq'](0x0)[_0x53e4('0x53')](cssClassesSophie);$(_0x53e4('0x19'))['eq'](0x0)[_0x53e4('0x53')](cssClassesSophie);html='\x0a<div>\x0a\x20\x20\x20\x20<form\x20id=\x22WTData\x22>\x0a\x20\x20\x20\x20<table\x20class=\x22sophHeader\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22sophHeader\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20>Coordinate</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20>WT\x20level</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22sophHeader\x22\x20>Remove</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20id=\x22addButton\x22\x20class=\x22sophRowA\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22><center><a\x20href=\x22javascript:void(0);\x22\x20class=\x22add_button\x22\x20title=\x22Add\x20field\x22><img\x20src=\x22https://dl.dropboxusercontent.com/s/19iqcqph04ybxjo/plus.png?dl=0\x22\x20width=\x2220\x22\x20height=\x2220\x22/></a></center></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20id=\x22calculate\x22\x20class=\x22sophRowB\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20align=\x22right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20ID=\x22save\x22\x20class=\x22btn-confirm-yes\x22\x20onclick=\x22saveData()\x22>Save\x20list</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20ID=\x22calculate\x22\x20class=\x22btn-confirm-yes\x22\x20onclick=\x22makeMap()\x22)>Display</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20id=\x22importCoords\x22\x20class=\x22sophHeader\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22><textarea\x20id=\x22coordinates\x22\x20cols=\x2230\x22\x20rows=\x2212\x22\x20style=\x22sophHeader\x22\x20placeholder=\x22Enter\x20coordinates\x20here\x22></textarea></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x224\x22\x20align=\x22right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20ID=\x22import\x22\x20class=\x22btn-confirm-yes\x22\x20onclick=\x22importCoords()\x22>Import\x20coords</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20</form>\x0a</div>';$(_0x53e4('0x32'))['eq'](0x0)['prepend'](_0x53e4('0x2c')+html+_0x53e4('0x34'));$(_0x53e4('0x42'))['click'](function(){addRow('');});$('table.sophHeader')['on'](_0x53e4('0x2a'),_0x53e4('0x1a'),function(_0x5f2773){$(this)[_0x53e4('0x31')]('tr')[_0x53e4('0x2')]();});if(localStorage['getItem'](_0x53e4('0x20'))==null){console[_0x53e4('0x4c')]('No\x20watchtower\x20data\x20found,\x20create');this[_0x53e4('0x49')]=[];localStorage['setItem']('watchTowerData',JSON[_0x53e4('0x29')](serverData));}else{console[_0x53e4('0x4c')](_0x53e4('0x37'));this['serverData']=JSON['parse'](localStorage['getItem'](_0x53e4('0x20')));for(var i=0x0;i<serverData[_0x53e4('0x39')];i++){addRow(serverData[i][_0x53e4('0x30')],serverData[i][_0x53e4('0xc')]);}}var mapOverlay=TWMap;function makeMap(){serverData=[];tempData=$(_0x53e4('0x2b'))[_0x53e4('0x51')]();for(var _0x6dc1f7=0x0;_0x6dc1f7<tempData['length'];_0x6dc1f7=_0x6dc1f7+0x2){serverData[_0x53e4('0x21')]({'village':tempData[_0x6dc1f7][_0x53e4('0xd')],'watchtower':parseInt(tempData[_0x6dc1f7+0x1]['value'])});}function _0xf24080(_0xdca657,_0x3060d8){var _0x78d25f=_0xdca657[_0x53e4('0x0')]('2d');_0x78d25f[_0x53e4('0x4b')](0x0,0x0,_0xdca657[_0x53e4('0x14')],_0xdca657['height']);_0x78d25f[_0x53e4('0x1d')]=0x1;_0x78d25f[_0x53e4('0x2e')]=_0x53e4('0x28');for(var _0x5dafa5 in serverData){var _0x3f4960=serverData[_0x5dafa5][_0x53e4('0xc')];if(_0x3f4960!=-0x1){var _0x39f69b=serverData[_0x5dafa5][_0x53e4('0x30')][_0x53e4('0x3e')]('|'),_0x21165b=(_0x39f69b[0x0]-_0x3060d8['x'])*0x5+0x3,_0x4b4798=(_0x39f69b[0x1]-_0x3060d8['y'])*0x5+0x3;_0x78d25f[_0x53e4('0x47')]();_0x78d25f['strokeStyle']=_0x53e4('0x7');_0x78d25f[_0x53e4('0x33')](_0x21165b,_0x4b4798,this[_0x53e4('0x36')][_0x3f4960-0x1]*0x5,0x0,0x2*Math['PI']);_0x78d25f[_0x53e4('0x8')]();_0x78d25f[_0x53e4('0x2d')]();_0x78d25f[_0x53e4('0x26')]();_0x78d25f[_0x53e4('0x47')]();_0x78d25f[_0x53e4('0x45')]=_0x53e4('0x1f');_0x78d25f['moveTo'](_0x21165b-0x2,_0x4b4798-0x2);_0x78d25f['lineTo'](_0x21165b+0x2,_0x4b4798+0x2);_0x78d25f[_0x53e4('0x16')](_0x21165b+0x2,_0x4b4798-0x2);_0x78d25f[_0x53e4('0xe')](_0x21165b-0x2,_0x4b4798+0x2);_0x78d25f[_0x53e4('0x8')]();_0x78d25f[_0x53e4('0x26')]();}}}function _0x3953fb(_0x1ee3f1,_0x16ea27){var _0x1151c4=_0x1ee3f1[_0x53e4('0x0')]('2d');_0x1151c4[_0x53e4('0x1d')]=0x2;_0x1151c4[_0x53e4('0x2e')]=_0x53e4('0x28');for(var _0x59b39c in serverData){var _0xcc4e33=serverData[_0x59b39c][_0x53e4('0xc')];if(_0xcc4e33!=-0x1){var _0x4ce947=this[_0x53e4('0x36')][_0xcc4e33-0x1],_0x516a41=serverData[_0x59b39c]['village'][_0x53e4('0x3e')]('|'),_0x18923e=mapOverlay[_0x53e4('0x44')][_0x53e4('0x3b')](_0x516a41[0x0],_0x516a41[0x1]),_0xf35a9f=mapOverlay[_0x53e4('0x44')][_0x53e4('0x3b')](_0x16ea27['x'],_0x16ea27['y']),_0x49a208=_0x18923e[0x0]-_0xf35a9f[0x0]+mapOverlay['tileSize'][0x0]/0x2;y=_0x18923e[0x1]-_0xf35a9f[0x1]+mapOverlay['tileSize'][0x1]/0x2;_0x1151c4[_0x53e4('0x47')]();_0x1151c4[_0x53e4('0x45')]=_0x53e4('0x7');_0x1151c4[_0x53e4('0x3')](_0x49a208,y,_0x4ce947*TWMap[_0x53e4('0x44')]['scale'][0x0],_0x4ce947*TWMap[_0x53e4('0x44')][_0x53e4('0x4d')][0x1],0x0,0x0,0x2*Math['PI']);_0x1151c4[_0x53e4('0x8')]();_0x1151c4['fill']();_0x1151c4[_0x53e4('0x26')]();_0x1151c4[_0x53e4('0x47')]();_0x1151c4[_0x53e4('0x45')]=_0x53e4('0x1f');_0x1151c4[_0x53e4('0x16')](_0x49a208-0x6,y-0x6);_0x1151c4[_0x53e4('0xe')](_0x49a208+0x6,y+0x6);_0x1151c4[_0x53e4('0x16')](_0x49a208+0x6,y-0x6);_0x1151c4[_0x53e4('0xe')](_0x49a208-0x6,y+0x6);_0x1151c4[_0x53e4('0x8')]();_0x1151c4['closePath']();}}}if(mapOverlay[_0x53e4('0x17')][_0x53e4('0x38')]){}else{mapOverlay[_0x53e4('0x17')]['_spawnSector']=mapOverlay[_0x53e4('0x17')][_0x53e4('0x23')];}mapOverlay[_0x53e4('0x17')][_0x53e4('0x23')]=function(_0x5461af,_0x36e3d2){mapOverlay['mapHandler'][_0x53e4('0x38')](_0x5461af,_0x36e3d2);var _0x57fa23=_0x36e3d2['x']-_0x5461af['x'];var _0x2ea4a7=_0x57fa23+mapOverlay[_0x53e4('0x5')];var _0x22d1e0=_0x36e3d2['y']-_0x5461af['y'];var _0x5430b6=_0x22d1e0+mapOverlay[_0x53e4('0x5')];for(var _0x4a3583 in _0x5461af['tiles']){var _0x4a3583=parseInt(_0x4a3583,0xa);if(_0x4a3583<_0x57fa23||_0x4a3583>=_0x2ea4a7){continue;}for(var _0x24cce5 in _0x5461af[_0x53e4('0x46')][_0x4a3583]){var _0x24cce5=parseInt(_0x24cce5,0xa);if(_0x24cce5<_0x22d1e0||_0x24cce5>=_0x5430b6){continue;}var _0x2615f7=mapOverlay[_0x53e4('0x48')][(_0x5461af['x']+_0x4a3583)*0x3e8+(_0x5461af['y']+_0x24cce5)];if(_0x2615f7){var _0x2b39a4=$(_0x53e4('0x1')+_0x36e3d2['x']+'_'+_0x36e3d2['y']);if(!_0x2b39a4[_0x53e4('0x39')]){var _0x5e53d6=document[_0x53e4('0x4')](_0x53e4('0x22'));_0x5e53d6[_0x53e4('0x3d')][_0x53e4('0x6')]=_0x53e4('0x1c');_0x5e53d6[_0x53e4('0x14')]=mapOverlay[_0x53e4('0x44')][_0x53e4('0x4d')][0x0]*mapOverlay[_0x53e4('0x44')][_0x53e4('0x35')];_0x5e53d6[_0x53e4('0xa')]=mapOverlay[_0x53e4('0x44')][_0x53e4('0x4d')][0x1]*mapOverlay[_0x53e4('0x44')][_0x53e4('0x35')];_0x5e53d6[_0x53e4('0x3d')][_0x53e4('0x15')]=0xa;_0x5e53d6[_0x53e4('0x4f')]=_0x53e4('0x54');_0x5e53d6['id']='mapOverlay_canvas_'+_0x36e3d2['x']+'_'+_0x36e3d2['y'];_0x36e3d2[_0x53e4('0x3c')](_0x5e53d6,0x0,0x0);_0x3953fb(_0x5e53d6,_0x36e3d2);}}}}for(var _0x4c747f in mapOverlay[_0x53e4('0xb')][_0x53e4('0x25')]){var _0x36e3d2=mapOverlay[_0x53e4('0xb')]['_loadedSectors'][_0x4c747f];var _0x2b39a4=$(_0x53e4('0xf')+_0x4c747f);if(!_0x2b39a4['length']){var _0x5e53d6=document[_0x53e4('0x4')](_0x53e4('0x22'));_0x5e53d6[_0x53e4('0x3d')][_0x53e4('0x6')]=_0x53e4('0x1c');_0x5e53d6[_0x53e4('0x14')]=_0x53e4('0x40');_0x5e53d6[_0x53e4('0xa')]=_0x53e4('0x40');_0x5e53d6[_0x53e4('0x3d')][_0x53e4('0x15')]=0xb;_0x5e53d6[_0x53e4('0x4f')]=_0x53e4('0x52');_0x5e53d6['id']=_0x53e4('0x41')+_0x4c747f;_0xf24080(_0x5e53d6,_0x36e3d2);_0x36e3d2[_0x53e4('0x3c')](_0x5e53d6,0x0,0x0);}}};mapOverlay['reload']();}function importCoords(){coords=$(_0x53e4('0x3a'))[_0x53e4('0x4e')]();coords=coords['replace'](/ /g,',');coords=coords[_0x53e4('0x10')](/\n/g,',');coords=coords['split'](',');for(var _0x7e1585=0x0;_0x7e1585<coords[_0x53e4('0x39')];_0x7e1585++){addRow(coords[_0x7e1585],0x0);}}function addRow(_0xf1b620,_0x2e63fb){if(currentFields<maxFields){currentFields++;if(currentFields%0x2==0x0){tempClass='sophRowB';}else{tempClass=_0x53e4('0x4a');}$(_0x53e4('0x13')+tempClass+_0x53e4('0x18')+currentFields+_0x53e4('0x43')+_0xf1b620+_0x53e4('0x1e')+currentFields+_0x53e4('0x1b')+_0x2e63fb+_0x53e4('0x24'))[_0x53e4('0x27')]($(_0x53e4('0x3f'))[0x0]);if(currentFields>=maxFields){$(_0x53e4('0x3f'))[_0x53e4('0x11')](_0x53e4('0x2f'),_0x53e4('0x50'));}}}function saveData(){serverData=[];tempData=$('#WTData\x20:input')[_0x53e4('0x51')]();for(var _0x3afd8f=0x0;_0x3afd8f<tempData['length'];_0x3afd8f=_0x3afd8f+0x2){serverData[_0x53e4('0x21')]({'village':tempData[_0x3afd8f][_0x53e4('0xd')],'watchtower':parseInt(tempData[_0x3afd8f+0x1][_0x53e4('0xd')])});}localStorage[_0x53e4('0x9')](_0x53e4('0x20'),JSON[_0x53e4('0x29')](serverData));}