const _0x5e8e = [
    'Už\x20načítané!',
    'world',
    'location',
    '\x22\x20/>\x0a\x09\x09\x09\x09\x09<a\x20href=\x22javascript:void(0);\x22\x20class=\x22btn\x22\x20onClick=\x22initCommandTimer();\x22>',
    '\x20HELP:',
    'get',
    '\x22\x20target=\x22_blank\x22\x20rel=\x22noreferrer\x20noopener\x22>\x0a\x09\x09\x09\x09\x09',
    'screen',
    '.ra-remaining-time',
    'en_DK',
    '\x20Locale:',
    '#serverTime',
    'version',
    'text',
    'locale',
    'jQuery',
    '\x20Market:',
    'length',
    '\x20launchingTimeTimestamp:',
    'show',
    'It\x27s\x20time!',
    'Neplatný\x20čas\x20poslania!',
    'Launching\x20Time\x20must\x20not\x20be\x20empty!',
    '\x20Game\x20Version:',
    'Start\x20Timer',
    'name',
    'confirm',
    '</a>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22ra-remaining-time\x22>\x0a\x09\x09\x09\x09\x09<strong>',
    'Its\x20time!',
    '#remainingTime',
    'majorVersion',
    'Pomoc',
    'Invalid\x20Launching\x20Time!',
    'Already\x20loaded!',
    '#launching_time',
    'Pošli\x20o:',
    'Command\x20Timer',
    'boolean',
    'Help',
    'prepend',
    '#command-data-form',
    '\x20World:',
    'Je\x20čas!',
    'features',
    'Časovač\x20príkazov',
    'Send\x20in:',
    '\x20serverDateTimeTimestamp:',
    'RedAlert',
    'place',
    '\x0a\x09\x09\x09\x09</a>\x20-\x0a\x09\x09\x09\x09<a\x20href=\x22',
    'helpLink',
    'ErrorMessage',
    '\x0a\x09\x09\x09\x09</strong>\x20-\x0a\x09\x09\x09\x09<a\x20href=\x22',
    'searchParams',
    'v1.0.1',
    '</label>\x0a\x09\x09\x09\x09\x09<input\x20type=\x22text\x22\x20id=\x22launching_time\x22\x20value=\x22',
    'https://twscripts.ga/',
    '\x0a\x09\x09\x09\x09</a>\x0a\x09\x09\x09</small>\x0a\x09\x09</div>\x0a\x09\x09<style>\x0a\x09\x09\x09.ra-command-timer\x20{\x0a\x09\x09\x09\x09position:\x20relative;\x0a\x09\x09\x09\x09display:\x20block;\x0a\x09\x09\x09\x09width:\x20100%;\x0a\x09\x09\x09\x09height:\x20auto;\x0a\x09\x09\x09\x09clear:\x20both;\x0a\x09\x09\x09\x09margin:\x2015px\x20auto;\x0a\x09\x09\x09\x09padding:\x2010px;\x0a\x09\x09\x09\x09border:\x201px\x20solid\x20#603000;\x0a\x09\x09\x09\x09box-sizing:\x20border-box;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09.ra-command-timer-flex\x20{\x0a\x09\x09\x09\x09display:\x20flex;\x0a\x09\x09\x09\x09align-items:\x20center;\x0a\x09\x09\x09\x09justify-content:\x20flex-start;\x0a\x09\x09\x09\x09flex-flow:\x20row\x20wrap;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09.ra-command-timer\x20label\x20{\x0a\x09\x09\x09\x09font-size:\x2014px;\x0a\x09\x09\x09\x09font-weight:\x20600;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09.ra-command-timer\x20input[type=\x22text\x22]\x20{\x0a\x09\x09\x09\x09display:\x20inline-block;\x0a\x09\x09\x09\x09width:\x20auto;\x0a\x09\x09\x09\x09height:\x20auto;\x0a\x09\x09\x09\x09line-height:\x201;\x0a\x09\x09\x09\x09font-size:\x2016px\x20!important;\x0a\x09\x09\x09\x09padding:\x206px\x208px\x20!important;\x0a\x09\x09\x09\x09margin:\x200\x2010px;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09.ra-remaining-time\x20{\x0a\x09\x09\x09\x09display:none;\x0a\x09\x09\x09\x09margin-left:\x2020px;\x0a\x09\x09\x09\x09font-size:\x2014px;\x0a\x09\x09\x09\x09font-weight:\x20600;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09#remainingTime\x20{\x0a\x09\x09\x09\x09font-size:\x2020px;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09.launch-time-approaching\x20{\x0a\x09\x09\x09\x09color:\x20#ff0000;\x0a\x09\x09\x09}\x0a\x09\x09</style>\x0a\x09',
    'authorUrl',
    'https://forum.tribalwars.net/index.php?threads/command-launch-timer.285377/',
    'Čas\x20poslania',
    'Launch\x20Time',
    'val',
    'debug',
    '\x0a\x09\x09<div\x20class=\x22ra-command-timer\x22>\x0a\x09\x09\x09<h3>',
    'href',
    'Script\x20must\x20be\x20executed\x20from\x20a\x20Command\x20Confirm\x20screen!',
    'try',
    'author',
    'split',
    '\x20Game\x20Build:',
    'Čas\x20poslania\x20nesmie\x20byť\x20prázdny!',
    '</h3>\x0a\x09\x09\x09<div\x20class=\x22ra-command-timer-flex\x22>\x0a\x09\x09\x09\x09<div\x20class=\x22ra-launching-time\x22>\x0a\x09\x09\x09\x09\x09<label\x20for=\x22launching_time\x22>',
    '#serverDate',
];
(function (_0x153865, _0x5e8e9d) {
    const _0x640e1d = function (_0x25af2f) {
        while (--_0x25af2f) {
            _0x153865['push'](_0x153865['shift']());
        }
    };
    _0x640e1d(++_0x5e8e9d);
})(_0x5e8e, 0xbd);
const _0x640e = function (_0x153865, _0x5e8e9d) {
    _0x153865 = _0x153865 - 0x0;
    let _0x640e1d = _0x5e8e[_0x153865];
    return _0x640e1d;
};
var scriptData = {
    name: _0x640e('0x45'),
    version: _0x640e('0xd'),
    author: _0x640e('0x6'),
    authorUrl: _0x640e('0xf'),
    helpLink: _0x640e('0x12'),
};
if (typeof DEBUG !== _0x640e('0x46')) DEBUG = ![];
var commandTimerInterval;
var translations = {
    en_DK: {
        'Command\x20Timer': _0x640e('0x45'),
        Help: _0x640e('0x47'),
        'Script\x20must\x20be\x20executed\x20from\x20a\x20Command\x20Confirm\x20screen!': _0x640e(
            '0x19'
        ),
        'Already\x20loaded!': _0x640e('0x42'),
        'Launching\x20Time\x20must\x20not\x20be\x20empty!': _0x640e('0x37'),
        'Invalid\x20Launching\x20Time!': _0x640e('0x41'),
        'Its\x20time!': _0x640e('0x3d'),
        'Send\x20in:': _0x640e('0x4'),
        'Launch\x20Time': _0x640e('0x14'),
        'Start\x20Timer': _0x640e('0x39'),
    },
    en_US: {
        'Command\x20Timer': _0x640e('0x45'),
        Help: 'Help',
        'Script\x20must\x20be\x20executed\x20from\x20a\x20Command\x20Confirm\x20screen!':
            'Script\x20must\x20be\x20executed\x20from\x20a\x20Command\x20Confirm\x20screen!',
        'Already\x20loaded!': _0x640e('0x42'),
        'Launching\x20Time\x20must\x20not\x20be\x20empty!':
            'Launching\x20Time\x20must\x20not\x20be\x20empty!',
        'Invalid\x20Launching\x20Time!': _0x640e('0x41'),
        'It\x27s\x20time!': _0x640e('0x35'),
        'Send\x20in:': _0x640e('0x4'),
        'Launch\x20Time': _0x640e('0x14'),
        'Start\x20Timer': 'Start\x20Timer',
    },
    sk_SK: {
        'Command\x20Timer': _0x640e('0x3'),
        Help: _0x640e('0x40'),
        'Script\x20must\x20be\x20executed\x20from\x20a\x20Command\x20Confirm\x20screen!':
            'Skript\x20musí\x20byť\x20spustený\x20z\x20potvrdzovacej\x20obrazovky\x20príkazu!',
        'Already\x20loaded!': _0x640e('0x21'),
        'Launching\x20Time\x20must\x20not\x20be\x20empty!': _0x640e('0x1e'),
        'Invalid\x20Launching\x20Time!': _0x640e('0x36'),
        'It\x27s\x20time!': _0x640e('0x1'),
        'Send\x20in:': _0x640e('0x44'),
        'Launch\x20Time': _0x640e('0x13'),
        'Start\x20Timer': 'Spustiť\x20časovač',
    },
};
initDebug();
function addTimerUI() {
    const [_0x3befe9, _0x12c177] = getServerTime();
    const _0x151c08 = _0x3befe9 + '\x20' + _0x12c177;
    const _0x23d18d =
        _0x640e('0x17') +
        tt(scriptData[_0x640e('0x3a')]) +
        _0x640e('0x1f') +
        tt(_0x640e('0x14')) +
        _0x640e('0xe') +
        _0x151c08 +
        _0x640e('0x24') +
        tt(_0x640e('0x39')) +
        _0x640e('0x3c') +
        tt(_0x640e('0x4')) +
        '</strong>\x20<span\x20id=\x22remainingTime\x22>0</span>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09</div>\x0a\x09\x09\x09<br>\x0a\x09\x09\x09<small>\x0a\x09\x09\x09\x09<strong>\x0a\x09\x09\x09\x09\x09' +
        tt(scriptData[_0x640e('0x3a')]) +
        '\x20' +
        scriptData[_0x640e('0x2d')] +
        _0x640e('0xb') +
        scriptData[_0x640e('0x11')] +
        _0x640e('0x27') +
        scriptData[_0x640e('0x1b')] +
        _0x640e('0x8') +
        scriptData['helpLink'] +
        _0x640e('0x27') +
        tt(_0x640e('0x47')) +
        _0x640e('0x10');
    if (jQuery('.ra-command-timer')[_0x640e('0x32')] < 0x1) {
        jQuery(_0x640e('0x49'))[_0x640e('0x48')](_0x23d18d);
    } else {
        UI[_0x640e('0xa')]('' + tt('Already\x20loaded!'));
    }
}
function initCommandTimer() {
    const _0x1cd9df = jQuery(_0x640e('0x43'))[_0x640e('0x15')]();
    if (_0x1cd9df !== '') {
        const [_0x1a7893, _0x1d281b] = getTimes(_0x1cd9df);
        if (_0x1a7893 <= _0x1d281b) {
            UI['ErrorMessage']('' + tt(_0x640e('0x41')));
            clearInterval(commandTimerInterval);
        } else {
            initTimeCalculations(_0x1cd9df);
        }
    } else {
        UI[_0x640e('0xa')](
            '' + tt('Launching\x20Time\x20must\x20not\x20be\x20empty!')
        );
    }
}
function getServerTime() {
    const _0x3d73cf = jQuery(_0x640e('0x2c'))['text']();
    const _0x1c9e95 = jQuery(_0x640e('0x20'))['text']();
    return [_0x3d73cf, _0x1c9e95];
}
function parseAsDate(_0x2b2911) {
    let [_0x6221bf, _0x515bc] = _0x2b2911[_0x640e('0x1c')]('\x20');
    let [_0x1e24ab, _0x5d2410, _0x143c95] = _0x6221bf[_0x640e('0x1c')](':');
    let [_0x5c62c3, _0x385b71, _0x26de21] = _0x515bc[_0x640e('0x1c')]('/');
    const _0x2dbd8f = Date['parse'](
        _0x26de21 +
            '-' +
            _0x385b71 +
            '-' +
            _0x5c62c3 +
            '\x20' +
            _0x1e24ab +
            ':' +
            _0x5d2410 +
            ':' +
            _0x143c95
    );
    return _0x2dbd8f;
}
function getTimes(_0x4bcdd7) {
    const [_0x336e5f, _0x6d2992] = getServerTime();
    const _0x2ea432 = _0x336e5f + '\x20' + _0x6d2992;
    const _0x33c925 = parseAsDate(_0x4bcdd7);
    const _0x1e8907 = parseAsDate(_0x2ea432);
    if (DEBUG) {
        console['debug'](scriptInfo() + _0x640e('0x33'), _0x33c925);
        console[_0x640e('0x16')](scriptInfo() + _0x640e('0x5'), _0x1e8907);
    }
    return [_0x33c925, _0x1e8907];
}
function initTimeCalculations(_0x258cc5) {
    commandTimerInterval = setInterval(function () {
        const [_0x39f10c, _0xb78693] = getTimes(_0x258cc5);
        const _0x265a62 = _0x39f10c - _0xb78693;
        const _0x4730ee = _0x265a62 / 0x3e8;
        if (_0x4730ee <= 0xa) {
            jQuery(_0x640e('0x3e'))['addClass']('launch-time-approaching');
        }
        if (_0x4730ee == 0x0) {
            jQuery(_0x640e('0x29'))[_0x640e('0x2e')](
                '' + tt('It\x27s\x20time!')
            );
            clearInterval(commandTimerInterval);
        }
        jQuery(_0x640e('0x29'))[_0x640e('0x34')]();
        jQuery(_0x640e('0x3e'))[_0x640e('0x2e')](_0x4730ee + '\x20seconds');
    }, 0x3e8);
}
function scriptInfo() {
    return (
        '[' +
        scriptData[_0x640e('0x3a')] +
        '\x20' +
        scriptData[_0x640e('0x2d')] +
        ']'
    );
}
function initDebug() {
    console[_0x640e('0x16')](scriptInfo() + '\x20It\x20works\x20🚀!');
    console[_0x640e('0x16')](
        scriptInfo() + _0x640e('0x25'),
        scriptData[_0x640e('0x9')]
    );
    if (DEBUG) {
        console['debug'](scriptInfo() + _0x640e('0x31'), game_data['market']);
        console[_0x640e('0x16')](
            scriptInfo() + _0x640e('0x0'),
            game_data[_0x640e('0x22')]
        );
        console[_0x640e('0x16')](
            scriptInfo() + '\x20Screen:',
            game_data[_0x640e('0x28')]
        );
        console['debug'](
            scriptInfo() + _0x640e('0x38'),
            game_data[_0x640e('0x3f')]
        );
        console[_0x640e('0x16')](
            scriptInfo() + _0x640e('0x1d'),
            game_data['version']
        );
        console[_0x640e('0x16')](
            scriptInfo() + _0x640e('0x2b'),
            game_data[_0x640e('0x2f')]
        );
        console[_0x640e('0x16')](
            scriptInfo() + '\x20Premium:',
            game_data[_0x640e('0x2')]['Premium']['active']
        );
    }
}
function getParameterByName(
    _0x26e450,
    _0x30ca15 = window[_0x640e('0x23')][_0x640e('0x18')]
) {
    return new URL(_0x30ca15)[_0x640e('0xc')][_0x640e('0x26')](_0x26e450);
}
function tt(_0x2ddef8) {
    var _0xca37fa = game_data[_0x640e('0x2f')];
    if (translations[_0xca37fa] !== undefined) {
        return translations[_0xca37fa][_0x2ddef8];
    } else {
        return translations[_0x640e('0x2a')][_0x2ddef8];
    }
}
(function () {
    const _0x3b85b6 = getParameterByName(_0x640e('0x28'));
    const _0x44ebaf = getParameterByName(_0x640e('0x1a'));
    if (_0x3b85b6 === _0x640e('0x7') && _0x44ebaf === _0x640e('0x3b')) {
        addTimerUI();
    } else {
        UI[_0x640e('0xa')]('' + tt(_0x640e('0x19')), 0xfa0);
    }
})(window[_0x640e('0x30')]);
