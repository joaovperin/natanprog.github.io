var D=document;if(window.frames.length>0)D=window.document;url=D.URL;if(url.indexOf('screen=info_player')==-1){alert(' Ce script doit être lancé depuis le profil d\’un joueur');end();}var tds=D.getElementsByTagName ("TD");var K=new Array();for(var idx=0;idx<100;idx++)K[idx]=new Array();var C=new Array();for(var idx=0;idx<tds.length;idx++){var xy=tds[idx].innerHTML;if(/^\d+\|\d+$/.test(xy)){C.push(xy);var xys=xy.split ('|');K[Math.floor(parseInt(xys[0])/100)+Math.floor(parseInt(xys[1])/100)*10].push(xy);}}C=C.join(' ');var prefix='<textarea cols=80 rows=10>javascript:coords=\'';var postfix='\';var doc=document;if(window.frames.length>0)doc=window.document;url=doc.URL;if(url.indexOf(\'screen=place\')==-1)alert (\'Ce script doit être lancé depuis le point de ralliement o_ô !\');coords=coords.split(\' \');index=Math.round (Math.random()*(coords.length-1));coords=coords[index];coords=coords.split(\'|\');doc.forms[0].x.value=coords[0];doc.forms[0].y.value=coords[1];insertUnit(doc.forms[0].ram,0);insertUnit(doc.forms [0].catapult,1); insertUnit(doc.forms[0].spy,0);insertUnit(doc.forms [0].spy,1); void(0)</textarea><br><br>';var S='<b>Guerre Tribale | Générateur de Fakes v0.3</b><hr>Tous les villages:<br>'+prefix+C+postfix;for(var idx=0;idx<100;idx++)if(K[idx].length>0){var Ks=K[idx].join(' ');S +='<br><br>C'+idx+' Villages:<br>'+prefix+Ks+postfix;}var popup=window.open ('about :blank','twfg','width=640,height=480,scrollbars=1');popup.document.open('text/html','replace');popup.document.write(S);popup.document.close();